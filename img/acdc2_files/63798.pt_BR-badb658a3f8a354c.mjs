(self.modernJsonp=self.modernJsonp||[]).push([["63798"],{691825:function(e,a,t){t.d(a,{Z:()=>I});var o=t(686659),s=t(667294),l=t(359496),r=t(124617),n=t(671340),i=t(78521),d=t(774838),_=t(144690),E=t(581722),u=t(935059);let p=()=>{let e=(0,u.Z)(),a=(0,E.v9)(({loggedOutUserInfo:e})=>e?.userInfo);return e.isAuth&&e.isLimitedLogin?{type:"LIMITED_LOGIN",info:{connectedToFacebook:!!((e.socialNetwork||{}).facebook||{}).connected,connectedToGoogle:!!((e.socialNetwork||{}).gplus||{}).connected,email:e.email,firstName:e.firstName,hasPassword:!!e.hasPassword,imageUrl:e.imageMediumUrl,gplusUrl:((e.socialNetwork||{}).gplus||{}).url}}:{type:e.isAuth?"AUTH":"UNAUTH",info:a&&a.email&&a.first_name?{connectedToFacebook:!!a.connected_to_facebook,connectedToGoogle:!!a.connected_to_google,email:a.email,firstName:a.first_name,hasPassword:!!a.has_password,imageUrl:a.medium_image_url??null}:null}};var c=t(36776),T=t(104999),S=t(24246),y=t(739405),A=t(229127),m=t(61046),O=t(785893);function C({children:e}){let a=function(){let e=(()=>{let[e,a]=(0,s.useState)(!1),t=(0,T.Z)();return(0,m.UE)(()=>a(!0)),(0,m.NN)(t),{visible:e,setVisible:a}})();return{loginForMore:e,limitedLoginModalSubheader:(()=>{let e=(0,S.Z)(),a=(0,y.HG)(),t=(0,T.Z)(),o=a?(0,A.hr)(e):(0,A.Wh)(e),[l,r]=(0,s.useState)(o);return(0,m.cZ)(e=>r(e??o)),(0,m.NN)(t),{text:l,setText:r}})(),limitedLoginModalNextLocation:(()=>{let[e,a]=(0,s.useState)("");return{route:e,setRoute:a}})(),viewer:p()}}();return(0,O.jsx)(c.o,{value:a,children:e})}function R({children:e}){let a=(0,d.B)(),t=p(),o=(()=>{let e=(0,l.Z)();return(0,s.useCallback)((a,t)=>e(a,{loggingOptions:t}),[e])})(),i=(0,s.useMemo)(()=>({getDeviceAppTypeString:()=>(0,n.Z)(a),register:o,viewer:t}),[a,t,o]);return(0,O.jsx)(r.I7,{value:i,children:e})}let I=({children:e})=>((0,s.useEffect)(()=>{(0,o.Z)("AppContextProvider","/app/common/lib/AppContextProvider.tsx")},[]),(0,O.jsx)(_.iE,{children:(0,O.jsx)(C,{children:(0,O.jsx)(R,{children:(0,O.jsx)(i.Z,{children:e})})})}))},654100:function(e,a,t){t.d(a,{m:()=>d,r:()=>_});var o=t(667294),s=t(213491),l=t(753806),r=t(774838),n=t(785893);let{Provider:i,get:d}=(0,s.Z)("PinRep");function _({children:e}){let{isAuthenticated:a}=(0,r.B)(),{experience:t}=(0,l.Ow)(1000069),[s,d]=(0,o.useState)(!0),[_,E]=(0,o.useState)(!1),[u,p]=(0,o.useState)(null),[c,T]=(0,o.useState)(null),S=(0,l.oS)(1000069);(0,o.useEffect)(()=>{if(!a)return void d(!1);t&&(!t||t?.experience_id===500417&&t?.display_data.hide_footer)?S.viewExperience(1000069,500417):d(!1),E(!0)},[t]);let y=(0,o.useMemo)(()=>({hasSimplifiedPinGridExpLoaded:_,hidePinRepFooter:s,setUseCaseFeedOriginalPinId:T,setUseCaseFeedRepinId:p,useCaseFeedOriginalPinId:c,useCaseFeedRepinId:u}),[_,s,T,p,c,u]);return(0,n.jsx)(i,{value:y,children:e})}},552841:function(e,a,t){t.d(a,{H7:()=>p,CB:()=>c});var o=t(667294),s=t(213491),l=t(686659),r=t(327723),n=t(47755),i=t(465784),d=t(24246),_=t(785893);let E=({onConfirm:e})=>{(0,o.useEffect)(()=>{(0,l.Z)("EmailVerificationReminderModal","/app/packages/EmailVerificationReminderModal/EmailVerificationReminderModal.tsx")},[]);let a=(0,d.Z)(),[t,s]=(0,o.useState)(!1),E=()=>{s(!0),(0,n.Z)({url:"/v3/users/email/verify/resend/",method:"POST"})};return(0,_.jsx)(i.ZP,{accessibilityModalLabel:a.bt("Verificar seu email", "Verify your email", "Accessible label for email verification being required", undefined, true),footer:(0,_.jsxs)(r.kC,{gap:{row:2,column:0},justifyContent:"end",children:[t?(0,_.jsx)(r.zx,{color:"gray",disabled:t,fullWidth:!0,onClick:E,size:"lg",text:a.bt("Email enviado", "Email sent", "Button text for verification email being sent", undefined, true)}):(0,_.jsx)(r.zx,{color:"gray",disabled:t,fullWidth:!0,onClick:E,size:"lg",text:a.bt("Reenviar email", "Resend email", "Button text for resending email verification email", undefined, true)}),(0,_.jsx)(r.zx,{color:"red",fullWidth:!0,onClick:e,size:"lg",text:a.bt("Entendi", "Got it", "Button text for acknowledging email verificaiton is required", undefined, true)})]}),heading:a.bt("Verificar seu email", "Verify your email", "Accessible label for email verification being required", undefined, true),onDismiss:e,role:"alertdialog",children:(0,_.jsx)(r.xu,{padding:8,children:(0,_.jsx)(r.xe,{align:"center",size:"300",children:a.bt("Verifique seu endereço de email para manter sua conta protegida. Confira a caixa de entrada associada a essa conta para ver se você recebeu um email com instruções para continuar usando o Pinterest.", "Keep your account secure by verifying your email address. Check the inbox associated with this account for an email from us to continue using Pinterest.", "Inform users that they need to verify their email to keep their account secure and continue using Pinterest", undefined, true)})})})},{Provider:u,get:p}=(0,s.Z)("EmailVerificationReminderModal");function c({children:e}){let[a,t]=(0,o.useState)(!1),s=(0,o.useMemo)(()=>({showEmailVerificationReminderModal:()=>{t(!0)}}),[]);return(0,_.jsxs)(o.Fragment,{children:[(0,_.jsx)(u,{value:s,children:e}),a&&(0,_.jsx)(E,{onConfirm:()=>{t(!1)}})]})}},124617:function(e,a,t){t.d(a,{Cw:()=>r,I7:()=>i,Py:()=>d,c4:()=>n});var o=t(667294),s=t(213491);let l=(0,o.createContext)(null),r=()=>(0,o.use)(l),n=l,{Provider:i,get:d}=(0,s.Z)("DesktopCoreLogin")},359496:function(e,a,t){t.d(a,{Z:()=>L});var o=t(667294),s=t(966502),l=t(27399),r=t(4533),n=t(11442),i=t(104999),d=t(470967),_=t(127078),E=t(991166),u=t(384696),p=t(990898),c=t(228842),T=t(424868),S=t(919492),y=t(501010),A=t(552764),m=t(165927),O=t(774838),C=t(959708),R=t(34550),I=t(935833),M=t(11908),N=t(629724),f=t(341687),D=t(144690),g=t(278277),P=t(767415);let h=0;function L(){let e=(0,A.Z)(),a=(0,i.Z)(),t=(0,O.B)(),L=(0,M.Z)(),{isRequirementEnabled:b}=(0,D.vI)(),v=(0,y.Z)(),U=(0,p.Z)(),w=(0,_.EJ)();return(0,o.useCallback)((o,{loggingOptions:{signupContext:i,signupAttemptContextEvent:_}})=>{let p=e=>{a({..._,event_type:e,aux_data:{..._.aux_data,upsell_reason:_.aux_data?.upsell_reason||(0,R.M0)().getItem(r.bg)||null,upsell_view_count:(0,R.M0)().getItem(r.w0)||0}}),7487===e&&(0,R.M0)().setItem(r.w0,0)},y=async({isRetrying:e})=>{let _={...o},A=JSON.stringify(w)||"",O=(0,g.O)(),M=window?.location?.search??null,D=(0,f.Z)(M).utm_campaign;A&&(_={..._,visited_pages:A}),O&&(_={..._,referrer:O}),D&&(_={..._,utm_campaign:D});let G=(0,R.M0)().getItem(r.e9)||[];if(A)_={..._,visited_pages:A};else if(G){let e=[];for(let a of G)a.is_shared_pin&&e.push({ts:a.ts,path:a.path,first_pin_image_signature:a.image_signature,is_shared:!0});e&&(_={..._,visited_pages:JSON.stringify(e.concat(JSON.parse(A||"[]")))})}let x=(0,c.Z)({isComplianceFeatureRequired:b,viewType:10});x.length>0&&(_={..._,privacy_disclaimer_acknowledge:x}),_={..._,user_behavior_data:JSON.stringify({})};let k=(0,S.yV)(_);return(e||(p(7537),L({action:"signup",event:"attempt",trigger:i?.trigger,type:k})),(0,P.nP)("webapp.debug_signup_type.core_register",{sampleRate:1,tags:{CHECK_TYPE:(0,S.Eh)(_,"CHECK_TYPE")??"none",CHECK_EXISTS:(0,S.Eh)(_,"DEPRECATED_CHECK_EXISTS"),CHECK_TRUTHY:(0,S.Eh)(_,"DEPRECATED_CHECK_TRUTHY")}}),"email"===k&&await (0,u.Lq)({fingerprintData:_.fingerprintData,source:E.Ef.SIGNUP,logContextEvent:a}))?Promise.reject({isArkoseChallengeRequired:!0}):(_=(0,u.NW)(_),l.Z.create("UserRegisterResource",_).callCreate().then(()=>(()=>{let{country:e,countryFromHostName:o,countryFromIp:l,regionFromIp:_}=t;v.checkExperiment("web_install_sw_on_unauth_landing").anyEnabled||(0,C.Z)("signup"),d.zN(s.Mq.name),d.zN(s.x2.name),(0,n.Z)(),d.t8(s.Xh,"1"),U({isRegister:!0}),(0,R.M0)().removeItem(r._b);let E=i?.container||"container_unknown";(0,I.My)(`signup.container.${E}`);let u=i?.signupSource||"signupSource_unknown";(0,I.My)(`signup.source.${u}`),a({event_type:"home_page"===E?1750:1754}),(0,I.My)(`signup_referrer_module.${String((0,N.Z)().referrer||"unknown")}`),(0,m.ko)({country:e,countryFromHostName:o,countryFromIp:l,regionFromIp:_,deviceType:"Desktop",eventCategory:"NewUsers"}),p(7487),L({action:"signup",event:"success",referrer:(()=>{let e=document.referrer;return e?e.indexOf("/t.co/")>-1?"twitter":e.indexOf("google.")>-1?"google":e.indexOf("bing.")>-1?"bing":e.indexOf("facebook.")>-1?"facebook":"other":"direct"})(),trigger:i?.trigger,type:k})})(),e=>(e=>{if(e.api_error_code===T.tz&&((0,I.My)("multi_step_set_age_restrict_cookie"),d.t8(s.It,"1",(0,d.kZ)(s.It))),(!e.api_error_code||[T.dO,T.cZ].includes(e.api_error_code))&&h<3)return(0,I.My)(`unauth_web.signup_retry_error.${String(e.api_error_code)}.${String(i?.container)}`),h+=1,y({isRetrying:!0});throw p(7488),L({action:"signup",event:"fail",trigger:i?.trigger,type:k}),e})(e)))};return e(),y({isRetrying:!1})},[e,b,a,t,L,v,U,w])}},671340:function(e,a,t){t.d(a,{Z:()=>o});function o(e){let a=e.userAgent.isMobile?"mobile":"desktop";return`${a}.${e.country}.${e.userAgent.platform}.${e.userAgent.browserName}`.replace(/ /g,"_")}},228842:function(e,a,t){t.d(a,{Z:()=>o});let o=({isComplianceFeatureRequired:e,viewType:a})=>{let t=[];return e({requirementEnum:0,viewType:a})&&t.push("fdbr"),t.join(",")}},138832:function(e,a,t){t.d(a,{default:()=>y});var o=t(966502),s=t(27399),l=t(4533),r=t(505633),n=t(470967),i=t(609252),d=t(281183),_=t(959708),E=t(748025),u=t(34550),p=t(418282),c=t(247387),T=t(935833),S=t(99672);async function y(e={logoutOnAbort:!1},a,t){let{redirectUrl:A,localStorageItems:m,logoutOnAbort:O,reason:C="user_initiated",source:R}=e,I=(0,u.M0)();if("authentication_failed"===C&&I.getItem(l.co))return;(0,T.yl)(!0),i.Z.pause(),a(),I.setItem(l.co,!0);let M=t?"web_desktop":"web_mobile";(0,T.tj)("logout.attempt",{tags:{app:M,reason:C,source:R}});try{await s.Z.create("UserSessionResource",{disable_auth_failure_redirect:!0}).callDelete()}catch(e){if(I.setItem(l.co,!1),O&&e?.type==="abort")(0,T.tj)("logout.logout_ignored",{tags:{app:M,reason:C,source:R}});else throw(0,T.tj)("logout.error",{tags:{app:M,reason:C,source:R}}),e}(0,T.tj)("logout",{tags:{app:M,reason:C,source:R}}),p.ZP.clear();let N=[[l.V6,null]].map(([e,a])=>[e,I.getItem(e)]);I.clear(),N.forEach(([e,a])=>I.setItem(e,a)),n.t8(o.e7,"True",(0,n.kZ)(o.e7)),n.t8(o.yu,new Date().toLocaleDateString(),(0,n.kZ)(o.yu)),t||(0,S.E)(!1),m&&((0,d.r8)(m.multipleAccountMap),(0,d.M3)(m.multipleAccountGroupId)),t?await (0,_.Z)("logoutWithOptions"):await (0,E.Z)(),(0,r.Z)(A||c.ZEf)}},922808:function(e,a,t){t.d(a,{Z:()=>E});var o=t(686659),s=t(667294),l=t(680405),r=t(230201),n=t(138832),i=t(478559),d=t(774838),_=t(785893);function E({children:e}){(0,s.useEffect)(()=>{(0,o.Z)("AuthenticationProvider","/app/packages/pinterest-authentication/AuthenticationProvider.tsx")},[]);let a=(0,l.N)(),t=(0,d.B)(),{flushContextEvents:E}=(0,r.u)(),u=(0,s.useCallback)(e=>(0,n.default)(e,E,!0),[E]),p=(0,s.useMemo)(()=>({loginContext:{appType:a.app_type_detailed,facebookToken:t.facebookToken,origin:t.origin,referrer:t.referrerFromCookie,unauthId:t.unauthId},logout:u}),[a.app_type_detailed,t.facebookToken,t.referrerFromCookie,t.origin,t.unauthId,u]);return(0,_.jsx)(i.o_,{value:p,children:e})}},408660:function(e,a,t){t.d(a,{Fm:()=>r,OY:()=>i,PL:()=>_,Px:()=>n,mK:()=>E,ru:()=>d});var o=t(877904),s=t(247387),l=t(935833);let r=()=>window?.google?.accounts?.id,n=(e,a)=>(0,o.Z)("https://accounts.google.com/gsi/client"+(a?`?hl=${a}`:""),e?.unsafe?null:"GSI"),i=({autoSelect:e,useContinueForContext:a,useFedCMForButton:t},o)=>{let l={auto_select:e??!1,button_auto_select:t??!1,client_id:s.v3o,callback:o,cancel_on_tap_outside:!1,context:a?"continue":"use",itp_support:!0,use_fedcm_for_prompt:!0,use_fedcm_for_button:t??!1};r()?.initialize(l)},d=({buttonRef:e,isDesktop:a,locale:t,logo_alignment:o,onClick:s,onTouch:n})=>{let i=r();if(i&&e.current){let a=e.current.offsetWidth;i.renderButton(e.current,{locale:t,size:"large",shape:"rectangular",text:"continue_with",theme:"outline",width:a+"px",logo_alignment:o,click_listener:()=>{s&&s(),n&&n(),(0,l.EX)({event:"start",provider:"google"})}})}else(0,l.My)((a?"unauth_web":"unauth_mweb")+".gsi_button.not_initialized")},_=e=>"auto"===e||"fedcm_auto"===e?"AUTO_LOGIN":e.startsWith("btn")||e.startsWith("fedcm_button")?"SIGN_IN_WITH_GOOGLE_BUTTON":"ONE_TAP_PROMPT",E=e=>{switch(e){case"SIGN_IN_WITH_GOOGLE_BUTTON":return"gsi_btn";case"ONE_TAP_PROMPT":return"onetap_btn";default:return"other"}}},919492:function(e,a,t){t.d(a,{E_:()=>i,Eh:()=>l,du:()=>n,yV:()=>r});var o=t(841270),s=t(899681);let l=(e,a)=>{if("DEPRECATED_CHECK_EXISTS"===a)return"facebook_id"in e&&"facebook"||"google_open_id_token"in e&&"google"||"line_id_token"in e&&"line"||"sso_id_token"in e&&"sso"||"email";if("DEPRECATED_CHECK_TRUTHY"===a)if(e.facebook_id)return"facebook";else if(e.google_open_id_token)return"google";else if(e.line_id_token)return"line";else if(e.sso_id_token)return"sso";else return"email";return e.type},r=e=>{let a=l(e,"DEPRECATED_CHECK_TRUTHY");return"google"===a?"google_one_tap":a},n=e=>s.rT.includes(e)||s.ZR.has(e)||((e="")=>e in o.i5)(e),i={GOOGLE:"g",FACEBOOK:"fb",PINTEREST:"p",APPLE:"apl",LINE:"ln",UNKNOWN:"unk",SSO:"sso"}},753977:function(e,a,t){t.d(a,{Z:()=>_});var o=t(686659),s=t(667294),l=t(327723),r=t(564377),n=t(577356),i=t(739405),d=t(785893);function _({children:e}){(0,s.useEffect)(()=>{(0,o.Z)("ToastManager","/app/packages/ui/ToastManager.tsx")},[]);let[a,t]=(0,s.useState)([]),_=(0,s.useRef)(0),E=(0,i.ZP)(),u=()=>{let e=_.current;return _.current+=1,`toast${e}`},p=(0,s.useMemo)(()=>({showOneToast:e=>{t([{name:u(),component:e}])},showToast:e=>{t(a=>[...a,{name:u(),component:e}])}}),[t]);return(0,d.jsxs)(n.Zo,{value:p,children:[e,(0,d.jsx)(r.Z,{children:(0,d.jsx)(l.mh,{children:(0,d.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"none",..."desktop"===E?{bottom:"14px"}:{top:"phone"===E?56:80}}},direction:"column",display:"flex",justifyContent:"center",position:"fixed",width:"100%",zIndex:new l.Ry(1500),children:a.map(({name:e,component:a})=>{if(a)return(0,d.jsx)(a,{hideToast:()=>{t(a=>{let t=[...a],o=t.findIndex(a=>a.name===e);return -1!==o&&t.splice(o,1),t})}},e)})})})})]})}},144690:function(e,a,t){t.d(a,{AA:()=>E,iE:()=>S,vI:()=>T});var o=t(667294),s=t(230201),l=t(213491),r=t(236269),n=t(47755),i=t(774838),d=t(767415),_=t(785893);let E={LOADING:"LOADING",LOADED:"LOADED",ERROR:"ERROR"},u={0:"US_FL_SIGNUP_CONSENT",1:"KR_SIGNUP_CONSENT",2:"IT_SIGNUP_CONSENT"},p=e=>u[e],{Provider:c,get:T}=(0,l.Z)("ComplianceManager"),S=({children:e})=>{let a=(0,o.useRef)(!1),{isBot:t}=(0,i.B)(),{logContextEvent:l}=(0,s.u)(),[u,T]=(0,o.useState)({state:E.LOADING}),S=(0,o.useCallback)(async({viewType:e})=>{try{if(t)return void T({state:E.ERROR});let a=performance.now(),o=await (0,n.Z)({url:"/v3/compliance_requirements/",callOptions:{timeout:3e3}});if(o.resource_response.data){let{requirements:t}=o.resource_response.data,s=t.map(e=>p(e)),r=performance.now();e&&l({view_type:e,event_type:16679,aux_data:{time_in_ms:r-a,compliance_requirements:s.toString()}}),T({state:E.LOADED,requirements:t})}}catch(t){let a=(0,r.Z)(t,"message_detail")||(0,r.Z)(t,"message")||"";e&&("timeout"===(0,r.Z)(t,"type")?l({view_type:e,event_type:16681}):l({view_type:e,event_type:16680,aux_data:{status_code:(0,r.Z)(t,"httpStatus")||"-1",api_error_code:(0,r.Z)(t,"api_error_code")||"-1"}})),(0,d.nP)("complianceManager.fetchConfiguration.failure",{sampleRate:1,tags:{errorMessage:a,httpStatus:(0,r.Z)(t,"httpStatus")||"",apiErrorCode:(0,r.Z)(t,"api_error_code")||"",errorCode:(0,r.Z)(t,"code")||"",type:(0,r.Z)(t,"type")}}),T({state:E.ERROR})}},[t,!0,l]),y=(0,o.useCallback)(({requirement:e,viewType:a})=>{a&&l({event_type:16682,view_type:a,aux_data:{feature_key:p(e)}})},[!0,l]),A=(0,o.useCallback)(({requirementEnum:e,viewType:t})=>{switch(u.state===E.LOADING&&!a.current&&(a.current=!0,S({viewType:t})),u.state){case E.LOADED:return u.requirements.includes(e);case E.LOADING:case E.ERROR:default:return y({requirement:e,viewType:t}),!1}},[u,S,y]),m=(0,o.useMemo)(()=>({state:u.state,isRequirementEnabled:A}),[u.state,A]);return(0,_.jsx)(c,{value:m,children:e})}},662529:function(e,a,t){t.d(a,{a:()=>u,B:()=>_});var o=t(667294),s=t(213491),l=t(47755);let r={boardMap:{}};function n(e,a){if(e=e||r,"BLOCKING_ACTIONS_UPDATED"===a.type){let{payload:{boardId:t,blockingActions:o}}=a,s=null,l=null,r={};return o.forEach(({section_id:e,progress:a,id:t,created_timestamp:o})=>{let n={id:t,createdAt:o,progress:a};e?"-1"===e?s=n:r[e]=n:l=n}),{...e,boardMap:{...e.boardMap,[t]:{wholeBoard:s,unorganized:l,sectionMap:r}}}}return e}var i=t(785893);let{Provider:d,getMaybe:_}=(0,s.Z)("BlockingAction");async function E(e){let a=await (0,l.Z)({url:"/v3/boards/{board}/",urlParams:{board:e},data:{fields:["board.id","board.blocking_actions"]}});return new Promise((e,t)=>{let o=a&&a.resource_response&&a.resource_response.data&&a.resource_response.data.blocking_actions;if(!o)return void t(Error("No blocking actions found in the response"));e(o)})}function u({children:e}){let[a,t]=(0,o.useReducer)(n,r),s=(0,o.useCallback)(e=>E(e).then(a=>(t({type:"BLOCKING_ACTIONS_UPDATED",payload:{boardId:e,blockingActions:a}}),a)),[]),l=(0,o.useMemo)(()=>({blockingActions:a,fetchBlockingActions:s}),[a,s]);return(0,i.jsx)(d,{value:l,children:e})}},89446:function(e,a,t){t.d(a,{dd:()=>g,Yi:()=>N,Pf:()=>M,Sx:()=>C,sO:()=>S,MC:()=>m,HU:()=>T,Dw:()=>I,vg:()=>D,nC:()=>O,KJ:()=>y,jn:()=>f,Dl:()=>P,nU:()=>A,Un:()=>R});var o=t(667294),s=t(312048),l=t(213491),r=t(47755),n=t(173874),i=t(501010);let d={payload:{},type:null},_={businessId:"",business:null,managerId:"",manager:null,businessHierarchyId:"",businessHierarchy:null,detailId:"",profile:null,adAccount:null,selectedAudience:null,isActingUserReseller:null,partnerId:"",employeeId:"",intents:d,modal:{modalType:null},lastFetchedBusinessId:"",businessExperiments:{}};function E(e,a){switch(e=e||_,a.type){case"SET_ROUTER_PARAMS":return{...e,businessId:a.payload.businessId??"",detailId:a.payload.detailId??""};case"SET_SELECTED_BUSINESS":return{...e,businessId:a.payload.business?.user.id??"",business:a.payload.business};case"SET_CEE_MIGRATION_INFO":return{...e,ceeMigrationInfo:a.payload.ceeMigrationInfo};case"SET_SELECTED_BUSINESS_HIERARCHY":return{...e,businessHierarchyId:a.payload.businessHierarchy?.id||"",businessHierarchy:a.payload.businessHierarchy};case"SET_SELECTED_ORGANIZATION_MANAGER":return{...e,managerId:a.payload.manager?.user.id??"",manager:a.payload.manager};case"SET_SELECTED_DETAIL":return{...e,detailId:a.payload.detailId??""};case"SET_SELECTED_PROFILE":return{...e,profile:a.payload.profile};case"SET_SELECTED_AD_ACCOUNT":return{...e,adAccount:a.payload.adAccount};case"SET_SELECTED_AUDIENCE":return{...e,selectedAudience:a.payload.audience};case"SET_SELECTED_PARTNER_ID":return{...e,partnerId:a.payload.partnerId};case"SET_SELECTED_EMPLOYEE_ID":return{...e,employeeId:a.payload.employeeId};case"SET_IS_ACTING_USER_RESELLER":return{...e,isActingUserReseller:a.payload.isActingUserReseller};case"SET_LAST_FETCHED_BUSINESS_ID":return{...e,lastFetchedBusinessId:a.payload.businessId};case"SET_BUSINESS_EXPERIMENTS":return{...e,businessExperiments:a.payload.experiments};case"CLEAR_INTENT":case"OPEN_SHEET":return{...e,intents:function(e,a){switch(a.type){case"CLEAR_INTENT":return d;case"OPEN_SHEET":let{type:t,payload:o}=a;return{type:t,payload:o};default:return e}}(e.intents,a)};case"SET_MODAL":case"CLEAR_MODAL":return{...e,modal:function(e,a){switch(a.type){case"SET_MODAL":return a.payload;case"CLEAR_MODAL":return{modalType:null};default:return e}}(e.modal,a)};default:return e}}var u=t(520803),p=t(785893);let{Provider:c,get:T}=(0,l.Z)("BusinessAccess");function S({children:e}){let[a,t]=(0,o.useReducer)(E,_),s=(0,o.useMemo)(()=>({setRouterParams:({detailId:e,businessId:a})=>t({type:"SET_ROUTER_PARAMS",payload:{detailId:e,businessId:a}}),setSelectedBusiness:e=>t({type:"SET_SELECTED_BUSINESS",payload:{business:e}}),setCeeMigrationInfo:e=>t({type:"SET_CEE_MIGRATION_INFO",payload:{ceeMigrationInfo:e}}),setSelectedOrganizationManager:e=>t({type:"SET_SELECTED_ORGANIZATION_MANAGER",payload:{manager:e}}),setSelectedBusinessHierarchy:e=>t({type:"SET_SELECTED_BUSINESS_HIERARCHY",payload:{businessHierarchy:e}}),setSelectedDetail:({detailId:e})=>t({type:"SET_SELECTED_DETAIL",payload:{detailId:e}}),setSelectedProfile:e=>t({type:"SET_SELECTED_PROFILE",payload:{profile:e}}),setSelectedAdAccount:e=>t({type:"SET_SELECTED_AD_ACCOUNT",payload:{adAccount:e}}),setSelectedAudience:e=>t({type:"SET_SELECTED_AUDIENCE",payload:{audience:e}}),setSelectedPartnerId:e=>t({type:"SET_SELECTED_PARTNER_ID",payload:{partnerId:e??""}}),setSelectedEmployeeId:e=>t({type:"SET_SELECTED_EMPLOYEE_ID",payload:{employeeId:e??""}}),setIsActingUserReseller:e=>t({type:"SET_IS_ACTING_USER_RESELLER",payload:{isActingUserReseller:e??!1}}),setLastFetchedBusinessId:e=>t({type:"SET_LAST_FETCHED_BUSINESS_ID",payload:{businessId:e}}),setBusinessExperiments:e=>t({type:"SET_BUSINESS_EXPERIMENTS",payload:{experiments:e}}),clearIntent:()=>t({type:"CLEAR_INTENT"}),openSheet:e=>t({type:"OPEN_SHEET",payload:e}),setAddPeopleModal:()=>t({type:"SET_MODAL",payload:{modalType:"CREATE_PEOPLE"}}),setAddPeopleInviteConfirmationModal:({inviteIds:e,role:a,isPendingTabActive:o})=>t({type:"SET_MODAL",payload:{modalType:"CREATE_PEOPLE_INVITE_CONFIRMATION",modalProps:{inviteIds:e,role:a,isPendingTabActive:o}}}),setAddPeopleInviteWithAssetsConfirmationModal:({inviteIds:e,invitedPeopleIdentifiers:a})=>t({type:"SET_MODAL",payload:{modalType:"CREATE_PEOPLE_INVITE_WITH_ASSETS_CONFIRMATION",modalProps:{inviteIds:e,invitedPeopleIdentifiers:a}}}),setAddPartnerInviteConfirmationModal:({selectedId:e,role:a,inviteId:o,isReseller:s})=>t({type:"SET_MODAL",payload:{modalType:"CREATE_PARTNER_INVITE_CONFIRMATION",modalProps:{selectedId:e,role:a,inviteId:o,isReseller:s}}}),setRemovePersonModal:e=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_PERSON",modalProps:e}}),setRemoveProfilePermissionsModal:({userData:e,selectionType:a,profileId:o,profileName:s,dataToRefresh:l,refreshData:r})=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_PROFILE_PERMISSIONS",modalProps:{userData:e,selectionType:a,profileId:o,profileName:s,dataToRefresh:l,refreshData:r}}}),setEditPersonRoleModal:e=>t({type:"SET_MODAL",payload:{modalType:"EDIT_PERSON_ROLE",modalProps:e}}),setInviteRequestPartnerModal:e=>t({type:"SET_MODAL",payload:{modalType:"INVITE_REQUEST_PARTNER",modalProps:{partnershipType:e?.partnershipType,pageForLogger:e?.pageForLogger}}}),setRequestPartnerConfirmationModal:({partnerId:e,role:a,requestId:o})=>t({type:"SET_MODAL",payload:{modalType:"CREATE_PARTNER_REQUEST_CONFIRMATION",modalProps:{partnerId:e,role:a,requestId:o}}}),setRequestPartnerConfirmationSuccessModal:({requestId:e})=>t({type:"SET_MODAL",payload:{modalType:"CREATE_PARTNER_REQUEST_CONFIRMATION_SUCCESS",modalProps:{requestId:e}}}),setRemoveChildBusinessModal:()=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_CHILD_BUSINESS"}}),setRemoveOrganizationManagerModal:()=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_ORGANIZATION_MANAGER"}}),setRemovePartnerModal:e=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_PARTNER",modalProps:{...e}}}),setRemoveSelfEmployeeModal:e=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_SELF_EMPLOYEE",modalProps:{...e}}}),setRemoveSharedPartnerModal:e=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_SHARED_PARTNER",modalProps:{...e}}}),setRemoveSharedAdAccountModal:e=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_SHARED_AD_ACCOUNT",modalProps:{...e}}}),setCreateAdAccountModal:()=>t({type:"SET_MODAL",payload:{modalType:"CREATE_AD_ACCOUNT"}}),setCreateAdAccountConfirmationModal:({ownerInfo:e,accountInfo:a,refreshData:o})=>t({type:"SET_MODAL",payload:{modalType:"CREATE_AD_ACCOUNT_CONFIRMATION",modalProps:{accountInfo:a,ownerInfo:e,refreshData:o}}}),setAssignAdAccountsModal:({selectedIds:e,selectionType:a,dataToRefresh:o,assignmentType:s,inviteIds:l,peopleIdentifiers:r,roleType:n,showProfiles:i,resellerUserId:d})=>t({type:"SET_MODAL",payload:{modalType:"ASSIGN_AD_ACCOUNTS",modalProps:{selectedIds:e,selectionType:a,dataToRefresh:o,assignmentType:s,peopleIdentifiers:r,inviteIds:l,roleType:n,showProfiles:i,resellerUserId:d}}}),setRequestAdAccountsModal:({requestId:e,partnerId:a})=>t({type:"SET_MODAL",payload:{modalType:"REQUEST_AD_ACCOUNTS",modalProps:{requestId:e,partnerId:a}}}),setRequestAdAccountsGeneralModal:({partner:e,adAccountsRequested:a})=>t({type:"SET_MODAL",payload:{modalType:"REQUEST_AD_ACCOUNTS_GENERAL",modalProps:{partner:e,adAccountsRequested:a}}}),setEditAdAccountAccessModal:({resourceId:e,principalId:a,dataToRefresh:o,assignmentType:s,rolesForAoaa:l,clientBusinessId:r})=>t({type:"SET_MODAL",payload:{modalType:"EDIT_AD_ACCOUNT_ACCESS",modalProps:{resourceId:e,principalId:a,dataToRefresh:o,assignmentType:s,rolesForAoaa:l,clientBusinessId:r}}}),setRemoveAdAccountAccessModal:({resourceId:e,principalId:a,dataToRefresh:o,assignmentType:s,resourceType:l})=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_AD_ACCOUNT_ACCESS",modalProps:{resourceId:e,principalId:a,dataToRefresh:o,assignmentType:s,resourceType:l}}}),setOnboardingModal:({onComplete:e,onDismiss:a})=>t({type:"SET_MODAL",payload:{modalType:"ONBOARDING",modalProps:{onComplete:e,onDismiss:a}}}),setSwitchAdAccountModal:({id:e,name:a,owner_user_id:o,merchant_id:s})=>t({type:"SET_MODAL",payload:{modalType:"SWITCH_AD_ACCOUNT",modalProps:{id:e,name:a,owner_user_id:o,merchant_id:s}}}),setAssignProfilesModal:({selectedIds:e,selectionType:a,dataToRefresh:o,assignmentType:s,refreshData:l})=>t({type:"SET_MODAL",payload:{modalType:"ASSIGN_PROFILES",modalProps:{selectedIds:e,selectionType:a,dataToRefresh:o,assignmentType:s,refreshData:l}}}),setAssignAudiencesModal:({accountTypeSelected:e,displayedAccountType:a,forPartner:o,handleModalDismiss:s,isAudienceOwner:l,audienceAssignmentType:r})=>t({type:"SET_MODAL",payload:{modalType:"ASSIGN_AUDIENCES",modalProps:{accountTypeSelected:e,displayedAccountType:a,forPartner:o,handleModalDismiss:s,isAudienceOwner:l,audienceAssignmentType:r}}}),setAssignAssetsModal:({selectedIds:e,inviteId:a,dataToRefresh:o})=>t({type:"SET_MODAL",payload:{modalType:"ASSIGN_ASSETS",modalProps:{selectedIds:e,inviteId:a,dataToRefresh:o}}}),setRequestProfileAccessModal:({requestId:e,requesteeId:a,profilePermissions:o})=>t({type:"SET_MODAL",payload:{modalType:"REQUEST_PROFILE_ACCESS",modalProps:{requestId:e,requesteeId:a,profilePermissions:o}}}),setRequestCatalogAccessModal:({requestId:e})=>t({type:"SET_MODAL",payload:{modalType:"REQUEST_CATALOG_ACCESS",modalProps:{requestId:e}}}),setRequestProfileAccessGeneralModal:()=>t({type:"SET_MODAL",payload:{modalType:"REQUEST_PROFILE_ACCESS_GENERAL"}}),setAssetGroupsFormModal:e=>t({type:"SET_MODAL",payload:{modalType:"ASSET_GROUPS_FORM",modalProps:e}}),setShareTagModal:e=>t({type:"SET_MODAL",payload:{modalType:"SHARE_TAG_FORM",modalProps:e}}),setShareTagSummaryModal:e=>t({type:"SET_MODAL",payload:{modalType:"SHARE_TAG_SUMMARY_FORM",modalProps:e}}),setShareTagLegalModal:e=>t({type:"SET_MODAL",payload:{modalType:"SHARE_TAG_LEGAL_FORM",modalProps:e}}),setTagGetStartedModal:e=>t({type:"SET_MODAL",payload:{modalType:"SHARE_TAG_GET_STARTED_FORM",modalProps:e}}),setDeleteAssetGroupConfirmationModal:e=>t({type:"SET_MODAL",payload:{modalType:"DELETE_ASSET_GROUP_CONFIRMATION",modalProps:e}}),setAOAAPermissionAssignmentModal:({partnerBusinessInfo:e,ownerInfo:a,accountInfo:o})=>t({type:"SET_MODAL",payload:{modalType:"AOAA_PERMISSION_ASSIGNMENT",modalProps:{partnerBusinessInfo:e,ownerInfo:a,accountInfo:o}}}),setUnsavedPermissionsConfirmationModal:({partnerBusinessInfo:e,ownerInfo:a,accountInfo:o})=>t({type:"SET_MODAL",payload:{modalType:"UNSAVED_PERMISSIONS_CONFIRMATION",modalProps:{partnerBusinessInfo:e,ownerInfo:a,accountInfo:o}}}),setAOAARequestCreationSuccessModal:({partnerBusinessInfo:e,ownerInfo:a,businessIdToPermissions:o})=>t({type:"SET_MODAL",payload:{modalType:"AOAA_REQUEST_CREATION_SUCCESS",modalProps:{partnerBusinessInfo:e,ownerInfo:a,businessIdToPermissions:o}}}),setAddAssetOrUserToAssetGroup:({assetOrMemberType:e,assetGroupInfo:a})=>t({type:"SET_MODAL",payload:{modalType:"ADD_ASSET_OR_USER_TO_ASSET_GROUP",modalProps:{assetOrMemberType:e,assetGroupInfo:a}}}),setAddUserToAssetGroupConfirmation:e=>t({type:"SET_MODAL",payload:{modalType:"ADD_USER_TO_ASSET_GROUP_CONFIRMATION",modalProps:e}}),setRemoveAssetOrUserFromAssetGroup:({assetOrMemberType:e,toRemove:a})=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_ASSET_OR_USER_TO_ASSET_GROUP",modalProps:{assetOrMemberType:e,toRemove:a}}}),setRemoveSystemUserFromApp:({toRemove:e})=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_SYSTEM_USER_FROM_APP",modalProps:{toRemove:e}}}),setRemoveAssetFromTag:({assetOrMemberType:e,toRemove:a})=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_ASSET_FROM_TAG",modalProps:{assetOrMemberType:e,toRemove:a}}}),setAddOrganizationManagersModal:e=>t({type:"SET_MODAL",payload:{modalType:"ADD_ORGANIZATION_MANAGERS",modalProps:{...e}}}),setAddOrganizationManagersConfirmationModal:e=>t({type:"SET_MODAL",payload:{modalType:"ADD_ORGANIZATION_MANAGERS_CONFIRMATION",modalProps:{...e}}}),setEditBusinessDetailsModal:e=>t({type:"SET_MODAL",payload:{modalType:"EDIT_BUSINESS_DETAILS",modalProps:e}}),setViewBusinessDetailsModal:e=>t({type:"SET_MODAL",payload:{modalType:"VIEW_BUSINESS_DETAILS",modalProps:e}}),setAddChildBusinessesModal:e=>t({type:"SET_MODAL",payload:{modalType:"ADD_CHILD_BUSINESSES",modalProps:{...e}}}),setAddChildBusinessesConfirmationModal:e=>t({type:"SET_MODAL",payload:{modalType:"ADD_CHILD_BUSINESSES_CONFIRMATION",modalProps:e}}),setSelectAdAccountToShareFromModal:()=>t({type:"SET_MODAL",payload:{modalType:"SELECT_AD_ACCOUNT_TO_SHARE_FROM"}}),setAddAdAccountModal:()=>t({type:"SET_MODAL",payload:{modalType:"ADD_AD_ACCOUNT"}}),setRequiredRMAAInformationModal:e=>t({type:"SET_MODAL",payload:{modalType:"ADD_REQUIRED_RMAA_INFORMATION",modalProps:e}}),setRMAAUncompleteModal:e=>t({type:"SET_MODAL",payload:{modalType:"RMAA_UNCOMPLETE_MODAL",modalProps:e}}),setSavedRMAAInformationSuccessModal:e=>t({type:"SET_MODAL",payload:{modalType:"SAVED_RMAA_INFORMATION_SUCCESS",modalProps:e}}),setConfirmAssetAccessRequestModal:e=>t({type:"SET_MODAL",payload:{modalType:"CONFIRM_ASSET_ACCESS_REQUEST",modalProps:e}}),setCreateBusinessHierarchyModal:e=>{t({type:"SET_MODAL",payload:{modalType:"CREATE_BUSINESS_HIERARCHY",modalProps:e}})},setUploadBusinessHierarchyAvatarImageModal:e=>{t({type:"SET_MODAL",payload:{modalType:"UPLOAD_BUSINESS_HIERARCHY_AVATAR_IMAGE",modalProps:e}})},setBusinessHierarchyCreationSuccessModal:e=>{t({type:"SET_MODAL",payload:{modalType:"BUSINESS_HIERARCHY_CREATION_SUCCESS",modalProps:e}})},setAssignCatalogModal:e=>{t({type:"SET_MODAL",payload:{modalType:"ASSIGN_CATALOG",modalProps:{...e}}})},setRemoveDefaultUtmsConfirmation:e=>{t({type:"SET_MODAL",payload:{modalType:"REMOVE_DEFAULT_UTMS_CONFIRMATION",modalProps:{...e}}})},setCeeMigrationBusinessInformationModal:e=>{t({type:"SET_MODAL",payload:{modalType:"CEE_MIGRATION_BUSINESS_INFORMATION_MODAL",modalProps:e}})},setResellerInviteSentSuccessfulModal:e=>{t({type:"SET_MODAL",payload:{modalType:"RESELLER_INVITE_SENT_SUCCESSFUL_MODAL",modalProps:e}})},setResellerInviteAcceptedSuccessfulModal:e=>{t({type:"SET_MODAL",payload:{modalType:"RESELLER_INVITE_ACCEPTED_SUCCESSFUL_MODAL",modalProps:e}})},setAddCatalogModal:()=>{t({type:"SET_MODAL",payload:{modalType:"ADD_CATALOG"}})},setRequestCatalogsGeneralModal:e=>{t({type:"SET_MODAL",payload:{modalType:"REQUEST_CATALOGS_GENERAL",modalProps:{...e}}})},setRequestCatalogsModal:e=>{t({type:"SET_MODAL",payload:{modalType:"REQUEST_CATALOGS",modalProps:{...e}}})},setAppSecretKeyModal:e=>{t({type:"SET_MODAL",payload:{modalType:"APP_SECRET_KEY_RESET",modalProps:e}})},setAddEditDomainRestrictionsModal:e=>{t({type:"SET_MODAL",payload:{modalType:"ADD_EDIT_DOMAIN_RESTRICTIONS",modalProps:e}})},setRevokeConversionSegmentAccessModal:e=>t({type:"SET_MODAL",payload:{modalType:"REVOKE_CONVERSION_SEGMENT_ACCESS",modalProps:e}}),setRemoveConversionSegmentModal:e=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_CONVERSION_SEGMENT",modalProps:e}}),setDeleteConversionSegmentModal:e=>t({type:"SET_MODAL",payload:{modalType:"DELETE_CONVERSION_SEGMENT",modalProps:e}}),setAssignAdAccountToConversionSegmentModal:e=>t({type:"SET_MODAL",payload:{modalType:"ASSIGN_AD_ACCOUNT_TO_CONVERSION_SEGMENT",modalProps:e}}),setRemoveConversionDataModal:e=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_CONVERSION_DATA",modalProps:e}}),setRevokeCatalogAccessModal:({data:e,refreshData:a,source:o})=>t({type:"SET_MODAL",payload:{modalType:"REVOKE_CATALOG_ACCESS",modalProps:{data:e,refreshData:a,source:o}}}),clearModal:()=>t({type:"CLEAR_MODAL"})}),[]),l=(0,o.useMemo)(()=>({businessAccess:a,...s}),[a,s]);return(0,p.jsx)(c,{value:l,children:e})}function y(e=!1){let{checkExperiment:a}=(0,i.Z)(),t=(0,s.TH)(),{anyEnabled:o}=a("web_business_access_table_reload_fix"),{anyEnabled:l}=a("web_m10n_business_hierarchy_beta"),{businessAccess:{businessId:r}}=T(),{params:{userBizId:d}}=(0,u.Z)();return l&&e&&(0,n.isBusinessHierarchyPage)(t)?r:o?d??"":r}function A(e=!1){let{checkExperiment:a}=(0,i.Z)(),t=(0,s.TH)(),{anyEnabled:o}=a("web_business_access_table_reload_fix"),{anyEnabled:l}=a("web_m10n_business_hierarchy_beta"),{businessAccess:{detailId:r}}=T(),{params:{detailId:d}}=(0,u.Z)();return l&&e&&(0,n.isBusinessHierarchyPage)(t)?r:o?d??"":r}function m(){let{checkExperiment:e}=(0,i.Z)(),{anyEnabled:a}=e("web_m10n_business_hierarchy_beta"),{businessAccess:{business:t}}=T();return a?t:null}function O(){let{businessAccess:{businessHierarchy:e}}=T();return e}function C(){let{checkExperiment:e}=(0,i.Z)(),{anyEnabled:a}=e("web_m10n_business_hierarchy_beta"),{businessAccess:{manager:t}}=T();return a?t:null}function R(){let{checkExperiment:e}=(0,i.Z)(),{anyEnabled:a}=e("web_m10n_business_hierarchy_beta"),{businessAccess:{profile:t}}=T();return a?t:null}function I(){let{checkExperiment:e}=(0,i.Z)(),{anyEnabled:a}=e("web_m10n_business_hierarchy_beta"),{businessAccess:{adAccount:t}}=T();return a?t:null}function M(){let{businessAccess:{selectedAudience:e}}=T();return e}function N(){let{businessAccess:{partnerId:e}}=T();return e}function f(){let{checkExperiment:e}=(0,i.Z)(),{anyEnabled:a}=e("web_m10n_business_hierarchy_beta"),{businessAccess:{employeeId:t}}=T();return a?t:""}function D(){let{businessAccess:{intents:e}}=T();return e}function g(){let{businessAccess:{modal:e}}=T();return e}async function P(e,a){let t={};try{let a=await (0,r.Z)({url:"/ads/v4/business_access/businesses/{business_id}/experiments/",urlParams:{business_id:e},method:"GET"});t=(a.resource_response?.data).data}catch(e){}return a(t),t}},639008:function(e,a,t){t.d(a,{R:()=>E,U:()=>_});var o=t(667294),s=t(213491),l=t(47755);let r={modalOpen:!1,modalTitle:"",isSubmitting:!1,submissionComplete:!1,submissionFailure:"",actionFrom:"",prompt:"",nextPageToRedirect:""},n=(e,a)=>{switch(e=e||r,a.type){case"SHOW_IN_SITE_FEEDBACK_MODAL":return{...e,modalOpen:!0,modalTitle:a.payload.title??"",actionFrom:a.payload.actionFrom??"",nextPageToRedirect:a.payload.nextPageToRedirect??"",prompt:a.payload.prompt??""};case"REMOVE_IN_SITE_FEEDBACK_MODAL":return{...e,modalOpen:!1,modalTitle:"",isSubmitting:!1,submissionComplete:!1,submissionFailure:""};case"IN_SITE_FEEDBACK_STARTED_STARTED":return{...e,isSubmitting:!0,submissionComplete:!1,submissionFailure:""};case"IN_SITE_FEEDBACK_SUBMIT_SUCCEEDED":return{...e,isSubmitting:!1,submissionComplete:!0,submissionFailure:""};case"IN_SITE_FEEDBACK_SUBMIT_FAILED":return{...e,isSubmitting:!1,submissionComplete:!1,submissionFailure:a.payload.error};default:return e}};var i=t(785893);let{Provider:d,get:_}=(0,s.Z)("InSiteFeedback");function E({children:e}){let[a,t]=(0,o.useReducer)(n,r),s=(0,o.useCallback)((e,a,o,s)=>t({type:"SHOW_IN_SITE_FEEDBACK_MODAL",payload:{title:a,prompt:o,actionFrom:e,nextPageToRedirect:s}}),[]),_=(0,o.useCallback)(()=>t({type:"REMOVE_IN_SITE_FEEDBACK_MODAL",payload:{}}),[]),E=(0,o.useCallback)(()=>t({type:"IN_SITE_FEEDBACK_STARTED_STARTED",payload:{}}),[]),u=(0,o.useCallback)(()=>t({type:"IN_SITE_FEEDBACK_SUBMIT_SUCCEEDED",payload:{}}),[]),p=(0,o.useCallback)(e=>t({type:"IN_SITE_FEEDBACK_SUBMIT_FAILED",payload:{error:e}}),[]),c=(0,o.useCallback)(e=>{if(t({type:"IN_SITE_FEEDBACK_STARTED_STARTED",payload:{}}),!e.verbatim_text||0===e.verbatim_text.trim().length)return void t({type:"IN_SITE_FEEDBACK_SUBMIT_SUCCEEDED",payload:{}});(0,l.Z)({url:"/v3/analytics/feedback/",method:"POST",data:{feedback_data:JSON.stringify(e)}}).then(()=>{t({type:"IN_SITE_FEEDBACK_SUBMIT_SUCCEEDED",payload:{}})}).catch(e=>{t({type:"IN_SITE_FEEDBACK_SUBMIT_FAILED",payload:{error:e.message}})})},[]),T=(0,o.useMemo)(()=>({inSiteFeedback:a,showInSiteFeedbackModal:s,removeInSiteFeedbackModal:_,submitInSiteFeedbackStarted:E,inSiteFeedbackSubmitSucceeded:u,inSiteFeedbackSubmitFailed:p,submitInSiteFeedback:c}),[a,s,_,E,u,p,c]);return(0,i.jsx)(d,{value:T,children:e})}},362786:function(e,a,t){t.d(a,{P:()=>u,u:()=>E});var o=t(667294),s=t(213491);let l={fullName:"",email:"",phoneNumber:"",zipCode:"",formSubmissions:{}};function r(e,a){switch(e=e||l,a.type){case"AUTOFILL_LEADGEN_USER_INFO":return{...e,fullName:a.payload.fullName,email:a.payload.email};case"SET_LEADGEN_USER_INFO":return{...e,formSubmissions:a.payload.formSubmissions};default:return e}}var n=t(774838),i=t(661376),d=t(785893);let{Provider:_,get:E}=(0,s.Z)("LeadGen");function u({children:e}){let{isLoaded:a,data:t}=(()=>{let{isAuthenticated:e}=(0,n.B)();return(0,i.Z)(e?{name:"ApiResource",options:{url:"/v3/users/me/",data:{fields:["user.full_name","user.email","user.is_name_eligible_for_lead_form_autofill","user.is_email_eligible_for_lead_form_autofill"]}}}:null)})(),[s,E]=(0,o.useReducer)(r,l),u=(0,o.useCallback)(e=>E({type:"SET_LEADGEN_USER_INFO",payload:e}),[]);(0,o.useEffect)(()=>{a&&E({type:"AUTOFILL_LEADGEN_USER_INFO",payload:{...l,fullName:t?.is_name_eligible_for_lead_form_autofill?t.full_name:"",email:t?.is_email_eligible_for_lead_form_autofill?t.email:""}})},[a,t]);let p=(0,o.useMemo)(()=>({updateLeadGenInfo:u,leadGen:s}),[u,s]);return(0,d.jsx)(_,{value:p,children:e})}},187580:function(e,a,t){t.d(a,{Z:()=>k});var o=t(686659),s=t(667294),l=t(654100),r=t(800287),n=t(537391),i=t(310008),d=t(552841),_=t(501010),E=t(281213),u=t(720414),p=t(662529),c=t(89446),T=t(27399),S=t(236269),y=t(57887),A=t(730056);let m=(e,a)=>e.data[a]&&e.data[a].messages||[];function O(e,a){let t=new Map;for(let o of e){if(!o)continue;let e=a(o);if(t.has(e)){let a=(0,A.Z)(t.get(e),o);t.set(e,a)}else t.set(e,o)}return[...t.values()]}function C(e){return[...e].sort((e,a)=>new Date(e.created_ms||e.created_at).getTime()-new Date(a.created_ms||a.created_at).getTime())}function R(e,a,t){return C(O(m(e,a).concat(t),e=>e.id))}let I={conversationsUnseenCount:0,data:{},newsHubCount:0,open:null,objectAttachment:null,showConversationsDropdown:!1,showNewMessageView:!1,ui:{},unread:0};function M(e,a){if(e=e||I,"CONVERSATION_OPEN"===a.type)return{...e,open:a.payload.id,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[a.payload.id]:{contactRequestId:a.payload.contactRequestId||"",isPreview:a.payload.isPreview}}};if("CONVERSATION_CLOSE"===a.type)return{...e,open:null,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[a.payload.id]:{contactRequestId:a.payload.contactRequestId||"",isPreview:!!a.payload.contactRequestId,isDeclined:a.payload.isDeclined}}};if("CONVERSATION_CREATE"===a.type){let{id:t}=a.payload;return{...e,data:{...e.data,[t]:{...e.data[t]||{},...a.payload}}}}if("CONVERSATION_DELETE"===a.type){let t={...e,data:{...e.data}},{id:o}=a.payload;return delete t.data[o],t}if("FETCH_COMPLETE"===a.type){let{options:t,resource:o,response:s}=a.payload,l=s.resource_response.data;if("ConversationMessagesResource"===o){let a=l||[],o=t?.conversation_id||"",s=R(e,o,a),r=s[s.length-1];return{...e,data:{...e.data,[o]:{...e.data[o],id:o,messages:s,unread:0,last_message:r}}}}if("ConversationsResource"===o){let a=l||[],t={...e,data:{...e.data}};return a.forEach(e=>{let{id:a,created_at:o,name:s,board:l,emails:r,unread:n,users:i,last_message:d}=e,_=R(t,a,[d]);t.data[a]={...t.data[a],id:a,created_at:o,name:s,board:l,emails:r||[],unread:n||0,users:i||[],last_message:d,messages:_}}),t}if("ConversationResource"===o||"ApiResource"===o&&t.url===`/v3/conversations/${t.data?.conversation_id}/`){let a=l||{},{id:t}=a,o={...e,data:{...e.data}};return t&&(o.data[t]={...o.data[t],...a}),o}if("NewsHubBadgeResource"===o&&l){let a=l.conversations_unseen_count||0;return{...e,unread:a}}}else if("MESSAGE_SEND_PENDING"===a.type){let{id:t,message:o}=a.payload;if(e.data[t])return{...e,data:{...e.data,[t]:{...e.data[t],id:t,messages:[...e.data[t].messages,o]}}}}else if("MESSAGE_SEND_PENDING_SUCCESS"===a.type){let{id:t,tempMessage:o,newMessage:s}=a.payload;if(e.data[t]&&m(e,t).find(e=>e.id===o.id&&e.created_ms===o.created_ms)){let a=C(O(m(e,t).filter(e=>e.id!==o.id).concat([s]),e=>e.id));return{...e,data:{...e.data,[t]:{...e.data[t],last_message:s,messages:a}}}}}else if("MESSAGE_SEND_PENDING_FAILURE"===a.type){let{id:t,tempMessageId:o}=a.payload;if(e.data[t]){let a=m(e,t).filter(e=>e.id!==o);return{...e,data:{...e.data,[t]:{...e.data[t],messages:a}}}}}else if("MESSAGE_DELETE"===a.type){let{id:t,messageId:o}=a.payload;if(e.data[t]){let a=m(e,t).map(e=>e.id===o?{...e,deleted_by:2}:e);return{...e,data:{...e.data,[t]:{...e.data[t],messages:a}}}}}else if("OPEN_NEW_MESSAGE"===a.type){let{objectAttachment:t}=a.payload||null;return{...e,showNewMessageView:!0,open:null,objectAttachment:t}}else if("CLOSE_DROPDOWN"===a.type)return{...e,showConversationsDropdown:!1,objectAttachment:null,showNewMessageView:!1};else if("OPEN_DROPDOWN"===a.type)return{...e,showConversationsDropdown:!0};else if("UPDATE_NEWSHUB_COUNT"===a.type)return{...e,newsHubCount:a.payload};else if("UPDATE_UNREAD_COUNT"===a.type)return{...e,conversationsUnseenCount:a.payload};else if("CLEAR_MESSAGE_BADGE"===a.type){let{id:t}=a.payload;return{...e,data:{...e.data,[t]:{...e.data[t],unread:0}}}}else if("CONVERSATION_SAVE_POSITION"===a.type){let{id:t,position:o}=a.payload;return{...e,data:{...e.data,[t]:{...e.data[t],position:o}}}}else if("CONVERSATION_RESET_POSITION"===a.type){let{id:t}=a.payload;return{...e,data:{...e.data,[t]:{...e.data[t],position:null}}}}else if("SET_OBJECT_ATTACHMENT"===a.type){let{objectAttachment:t}=a.payload;return{...e,objectAttachment:t}}else if("REMOVE_OBJECT_ATTACHMENT"===a.type)return{...e,objectAttachment:null};return e}var N=t(271875),f=t(785893);function D({children:e}){(0,s.useEffect)(()=>{(0,o.Z)("ConversationsContext","/app/www/ConversationsContext/ConversationsContext.tsx")},[]);let[a,t]=(0,s.useReducer)(M,I),l=(0,s.useCallback)(e=>t({type:"FETCH_COMPLETE",payload:e}),[]);(0,y.Z8)("ConversationMessagesResource",l),(0,y.my)("ConversationMessagesResource",l),(0,y.Z8)("ConversationsResource",l),(0,y.Z8)("ConversationResource",l),(0,y.Z8)("NewsHubBadgeResource",l),(0,y.Z8)("ApiResource",l);let r=(0,s.useCallback)((e,a=!1,o="")=>t({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:a,contactRequestId:o}}),[]),n=(0,s.useCallback)((e,a="",o=!1)=>t({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:a,isDeclined:o}}),[]),i=(0,s.useCallback)(e=>t({type:"CONVERSATION_CREATE",payload:e}),[]),d=(0,s.useCallback)(e=>t({type:"CONVERSATION_DELETE",payload:{id:e}}),[]),_=(0,s.useCallback)((e,a)=>t({type:"CONVERSATION_SAVE_POSITION",payload:{id:e,position:a}}),[]),E=(0,s.useCallback)(e=>t({type:"CONVERSATION_RESET_POSITION",payload:{id:e}}),[]),u=(0,s.useCallback)((e,a,o)=>{T.Z.create("ConversationsResource",{user_ids:e,emails:a,text:""}).callCreate().then(e=>{t({type:"CONVERSATION_OPEN",payload:{id:(e&&e.resource_response.data).id}})}).catch(e=>{o((0,S.Z)(e,"message_detail")||(0,S.Z)(e,"message")||"")})},[]),p=(0,s.useCallback)(()=>{t({type:"CLOSE_DROPDOWN"})},[]),c=(0,s.useCallback)(()=>{t({type:"OPEN_DROPDOWN"})},[]),A=(0,s.useCallback)(e=>{t({type:"OPEN_NEW_MESSAGE",payload:{objectAttachment:e}})},[]),m=(0,s.useCallback)((e,a)=>t({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:a}}),[]),O=(0,s.useCallback)((e,a,o)=>t({type:"MESSAGE_SEND_PENDING_SUCCESS",payload:{id:e,tempMessage:a,newMessage:o}}),[]),C=(0,s.useCallback)((e,a)=>t({type:"MESSAGE_SEND_PENDING_FAILURE",payload:{id:e,tempMessageId:a}}),[]),R=(0,s.useCallback)((e,a)=>t({type:"MESSAGE_DELETE",payload:{id:e,messageId:a}}),[]),D=(0,s.useCallback)(e=>t({type:"UPDATE_NEWSHUB_COUNT",payload:e}),[]),g=(0,s.useCallback)(e=>t({type:"UPDATE_UNREAD_COUNT",payload:e}),[]),P=(0,s.useCallback)(e=>t({type:"CLEAR_MESSAGE_BADGE",payload:{id:e}}),[]),h=(0,s.useCallback)(e=>t({type:"SET_OBJECT_ATTACHMENT",payload:{objectAttachment:e}}),[]),L=(0,s.useCallback)(()=>t({type:"REMOVE_OBJECT_ATTACHMENT"}),[]),b=(0,s.useMemo)(()=>({clearMessageBadge:P,conversationOpen:r,conversationClose:n,conversationCreate:i,conversationDelete:d,conversationGet:u,saveConversationPosition:_,resetConversationPosition:E,dropdownClose:p,dropdownOpen:c,newMessageOpen:A,pendingMessageSend:m,pendingMessageSuccess:O,pendingMessageFailure:C,deleteMessage:R,updateNewsHubCount:D,updateUnreadCount:g,conversations:a,setObjectAttachment:h,removeObjectAttachment:L}),[P,r,n,i,d,u,_,E,p,c,A,m,O,C,R,D,g,a,h,L]);return(0,f.jsx)(N.k,{value:b,children:e})}var g=t(827371);function P({children:e}){(0,s.useEffect)(()=>{(0,o.Z)("EducationProvider","/app/www/Education/EducationProvider.tsx")},[]);let[a,t]=(0,s.useState)(null),l=(0,s.useMemo)(()=>[a,t],[a]);return(0,f.jsx)(g.Z,{value:l,children:e})}var h=t(639008),L=t(362786),b=t(20717),v=t(490515),U=t(329577),w=t(485633),G=t(272873),x=t(985543);function k({children:e}){(0,s.useEffect)(()=>{(0,o.Z)("AuthDesktopProviders","/app/www/PageWrapper/AuthDesktopProviders.tsx")},[]);let a=(0,_.Z)().checkExperiment("aid_exp_move_custom_shortcuts_context_provider").anyEnabled?s.Fragment:i.r;return(0,f.jsx)(D,{children:(0,f.jsx)(E.W,{children:(0,f.jsx)(w.l,{children:(0,f.jsx)(P,{children:(0,f.jsx)(x.X,{children:(0,f.jsx)(L.P,{children:(0,f.jsx)(G.j,{children:(0,f.jsx)(h.R,{children:(0,f.jsx)(d.CB,{children:(0,f.jsx)(c.sO,{children:(0,f.jsx)(r.FE,{children:(0,f.jsx)(n.H,{children:(0,f.jsx)(a,{children:(0,f.jsx)(U.yh,{children:(0,f.jsx)(l.r,{children:(0,f.jsx)(v.C,{children:(0,f.jsx)(p.a,{children:(0,f.jsx)(b.xM,{children:(0,f.jsx)(u.i,{children:e})})})})})})})})})})})})})})})})})})})}},485633:function(e,a,t){t.d(a,{l:()=>_,o:()=>d});var o=t(667294),s=t(213491),l=t(57887);function r(e,a){if(e=e||{},"SUGGESTIONS_FETCH_COMPLETE"===a.type){let{payload:t}=a;if("ShareSuggestionsResource"===t.resource){let o=a.payload.response.resource_response.data||[],{term:s=""}=t.options??{};return{...e,[s]:o}}if("ShareSuggestionsTypeaheadResource"===t.resource){let o=(a.payload.response.resource_response.data||{}).items||[],{term:s=""}=t.options??{};return{...e,[s]:o}}}return e}var n=t(785893);let{Provider:i,get:d}=(0,s.Z)("ShareSuggestions");function _({children:e}){let[a,t]=(0,o.useReducer)(r,{}),s=e=>{t({type:"SUGGESTIONS_FETCH_COMPLETE",payload:e})};(0,l.Z8)("ShareSuggestionsResource",s),(0,l.Z8)("ShareSuggestionsTypeaheadResource",s);let d=(0,o.useMemo)(()=>({shareSuggestions:a}),[a]);return(0,n.jsx)(i,{value:d,children:e})}},272873:function(e,a,t){t.d(a,{l:()=>d,j:()=>_});var o=t(667294),s=t(213491);let l={currentPinDraftId:null,mostRecentTaggedObjectId:null,selectedStlItemId:null,stlCallout:{showCallout:!1},stlTaggedCoords:null,stlHoveredTaggedObjectId:null},r=(e,a)=>{switch(e=e||l,a.type){case"STL_SELECT":return{...e,selectedStlItemId:a.payload.selectedStlItemId};case"STL_SHEET":return{...e,currentPinDraftId:a.payload.currentPinDraftId};case"STL_TAGGED_PIN":return{...e,stlTaggedCoords:a.payload.stlTaggedCoords};case"STL_ERROR_STATE":return{...e,stlCallout:{showCallout:a.payload.stlCallout.showCallout,type:a.payload.stlCallout.type}};case"STL_MOST_RECENT_TAGGED_OBJECT_ID":return{...e,mostRecentTaggedObjectId:a.payload.mostRecentTaggedObjectId};case"SET_STL_HOVERED_TAGGED_OBJECT_ID":return{...e,stlHoveredTaggedObjectId:a.payload.stlHoveredTaggedObjectId};default:return e}};var n=t(785893);let{Provider:i,get:d}=(0,s.Z)("ShopTheLook");function _({children:e}){let[a,t]=(0,o.useReducer)(r,l),s=(0,o.useMemo)(()=>({shopTheLook:a,setStlSelection:e=>{t({type:"STL_SELECT",payload:{selectedStlItemId:e}})},setCurrentPinDraftId:e=>{t({type:"STL_SHEET",payload:{currentPinDraftId:e}})},setStlTaggedCoord:e=>{t({type:"STL_TAGGED_PIN",payload:{stlTaggedCoords:e}})},setStlCallout:({showCallout:e,type:a})=>{t({type:"STL_ERROR_STATE",payload:{stlCallout:{showCallout:e,type:a}}})},setMostRecentTaggedObjectId:e=>{t({type:"STL_MOST_RECENT_TAGGED_OBJECT_ID",payload:{mostRecentTaggedObjectId:e}})},setStlHoveredTaggedObjectId:e=>{t({type:"SET_STL_HOVERED_TAGGED_OBJECT_ID",payload:{stlHoveredTaggedObjectId:e}})}}),[a]);return(0,n.jsx)(i,{value:s,children:e})}},899681:function(e,a,t){t.d(a,{EU:()=>r,IO:()=>l,ZR:()=>n,rT:()=>s,zu:()=>o});let o="OPEN_UNAUTH",s=["US","CA","NZ","AU"],l=new Set(["GB","IE"]),r=new Set(["AT","BE","CH","DE","DK","ES","FR","IT","NL","NO","PT","SE"]),n=new Set(["BR","MX","AR","CL","CO","PE"])},985543:function(e,a,t){t.d(a,{X:()=>_,Z:()=>d});var o=t(667294),s=t(213491),l=t(566431);function r(e=null,a){switch(a.type){case"REPORT_CONTENT_SHOW":return{id:a.payload.id,auxData:a.payload.auxData,isProduct:a.payload.isProduct,isPromoted:a.payload.isPromoted,parentId:a.payload.parentId,videoDuration:a.payload.videoDuration,viewParameter:a.payload.viewParameter,viewType:a.payload.viewType,type:a.payload.type,isThirdPartyAd:a.payload.isThirdPartyAd,nodeId:a.payload.nodeId};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var n=t(785893);let{Provider:i,get:d}=(0,s.Z)("ReportData");function _({children:e}){let[a,t]=(0,o.useReducer)(r,null),s=(0,o.useCallback)(()=>t({type:"REPORT_CONTENT_DISMISS"}),[]),d=(0,o.useCallback)((e,a,o)=>t({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,parentId:a,videoDuration:null,viewParameter:null,viewType:null,type:o,nodeId:null}}),[]),_=(0,o.useCallback)((e,a,o)=>t({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:a,viewType:o,type:"conversation",nodeId:null}}),[]),E=(0,o.useCallback)(({id:e,viewParameter:a,viewType:o,nodeId:s})=>t({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:a,viewType:o,type:"pin",nodeId:s}}),[]),u=(0,o.useCallback)(({pinId:e,isDownstreamPromotion:a,hasPromoter:o,firstVideoDuration:s,isProduct:r,viewParameter:n,viewType:i,isThirdPartyAd:d,nodeId:_,auxData:E})=>{t({type:"REPORT_CONTENT_SHOW",payload:{id:e,auxData:E,isProduct:r,isPromoted:(0,l.jL)(a,o),videoDuration:s,viewParameter:n,viewType:i,type:"pin",isThirdPartyAd:d,nodeId:_}})},[]),p=(0,o.useMemo)(()=>({reportData:a,dismiss:s,reportComment:d,reportConversation:_,reportImage:E,reportPin:u}),[a,s,d,_,E,u]);return(0,n.jsx)(i,{value:p,children:e})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/63798.pt_BR-badb658a3f8a354c.mjs.map